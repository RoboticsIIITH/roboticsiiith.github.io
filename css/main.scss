<script>
/* Measure the navbar height and set the CSS variable so offsets/anchors are accurate.
   Works on load, resize and orientationchange. */
(function() {
  function updateNavbarHeight() {
    const nav = document.querySelector('.navbar');
    if (!nav) return;
    const h = Math.ceil(nav.getBoundingClientRect().height);
    document.documentElement.style.setProperty('--navbar-height', h + 'px');
  }

  // run early (DOM may be ready)
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', updateNavbarHeight);
  } else {
    updateNavbarHeight();
  }

  // update on events that can change layout
  window.addEventListener('resize', updateNavbarHeight);
  window.addEventListener('orientationchange', updateNavbarHeight);

  // optional: if fonts load late and change layout, re-run after font load
  if (document.fonts && document.fonts.ready) {
    document.fonts.ready.then(updateNavbarHeight).catch(()=>{});
  }
})();
</script>
<script>
document.addEventListener('click', function (e) {
  const link = e.target.closest('.uasat-dropdown > a');
  if (!link) return;

  // If the caret (or something inside it) was clicked → dropdown only
  if (e.target.closest('.caret')) {
    e.preventDefault();
    return;
  }

  // Otherwise → allow normal navigation
  e.preventDefault();
  window.location.href = link.getAttribute('href');
});
</script>




/* ---------- Bootstrap import (keep if your build uses it) ---------- */
@import "bootstrap";

/* ---------- Root variable (fallback) ---------- */
:root {
  /* fallback; JS will overwrite this with measured height on load/resize */
  --navbar-height: 72px;
}

/* ---------- Base resets / safety ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  padding: 0;               /* NO static top padding anymore */
  padding-bottom: 20px;
  background: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

/* ---------- Images ---------- */
img {
  max-width: 100%;
  height: auto;
  display: block;
  margin-top: 17px;
  margin-bottom: 24px;
  border-radius: 6px;
}

/* ---------- Navbar (sticky and adaptive) ---------- */
/* Use sticky so the navbar occupies layout space on load (no hidden hero) */
.navbar {
  position: sticky;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1100;
  background: #ffffff;
  border-bottom: 1px solid rgba(0,0,0,0.06);
  display: flex;
  align-items: center;
  padding: 0 18px;

  /* allow flexible height driven by content; min-height avoids collapsing */
  min-height: 60px;
  /* NOTE: do NOT hard-set `height` here; letting content determine height avoids clipping */
}

/* Use the CSS variable for any layout needs (brand height etc.) */
.navbar-brand {
  display: inline-flex;
  align-items: center;
  min-height: calc(var(--navbar-height));
  line-height: 1;
  font-size: 18px;
  padding: 0 12px;
}

/* toggle / hamburger adjustments */
.navbar-toggle { margin-top: 10px; padding: 6px 8px !important; }

/* Navbar links: keep compact but readable on all screens */
.navbar-nav > li > a {
  display: inline-block;
  padding: 12px 10px; /* slightly tightened to reduce wrapping risk */
  line-height: 20px;
  font-size: 15px;
  white-space: nowrap;
}

/* Prevent nav items from wrapping into multiple rows (if layout permits) */
.navbar-nav {
  display: flex;
  gap: 6px;
  flex-wrap: nowrap; /* keeps it a single row — adjust if you want wrapping behavior */
  align-items: center;
}

/* collapse behavior: reduce vertical padding on narrow screens */
/* Also override the CSS var for smaller screens so scroll-margin and offsets use correct value */
@media (max-width: 991px) {
  :root { --navbar-height: 64px; } /* fallback for smaller screens (JS will still measure) */

  .navbar { padding: 0 12px; min-height: 64px; }
  .navbar-brand { font-size: 16px; }
  .navbar-nav > li > a { padding: 10px 10px; font-size: 14px; }
}

/* ---------- Page container ---------- */
.container-publications {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px 18px;
}
/* UASAT split-link dropdown styling */
.uasat-dropdown > a {
  display: inline-block;
}

.uasat-dropdown > a.nav-link {
  padding-right: 5px;
}

.uasat-dropdown > a.dropdown-toggle {
  padding-left: 0;
}

/* ---------- Publications header / byline ---------- */
p.byline {
  text-align: center;
  font-size: 18px;
  line-height: 1.6;
  margin: 6px 0 32px 0;
}

/* ---------- Year filter (flex + wrap + scroll fallback) ---------- */
.pub-filter-wrap {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 18px;
  flex-wrap: wrap;
}
.pub-filter-left { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
.pub-filter-right { display: flex; align-items: center; gap: 8px; }

/* year select & buttons */
.pub-filter-left label { font-size: 15px; margin: 0; }
.pub-year-select {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  padding: 8px 10px;
  border: 1px solid rgba(0,0,0,0.12);
  border-radius: 6px;
  font-size: 15px;
  background: #fff url("data:image/svg+xml;charset=UTF-8,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='6' viewBox='0 0 10 6'><path fill='%23666' d='M0 0l5 6 5-6z'/></svg>") no-repeat right 10px center;
  min-width: 120px;
}

/* chips for years (optional) */
.pub-year-chips { display:flex; gap:8px; flex-wrap:wrap; }
.pub-year-chip {
  padding:6px 10px;
  border-radius:16px;
  background: rgba(0,0,0,0.06);
  cursor:pointer;
  font-size:14px;
  white-space:nowrap;
}
.pub-filter-scroll { width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; white-space: nowrap; }

/* ---------- Publication list grid (cards) ---------- */
.pub-list {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 18px;
}
@media (min-width: 1100px) { .pub-list { grid-template-columns: repeat(3, 1fr); gap: 22px; } }
@media (max-width: 767px) {
  .pub-list { grid-template-columns: 1fr; }
  .publication-item { padding: 10px 8px; }
  .pub-year-select { min-width: 100%; }
}

/* publication card */
.publication-item {
  background: #fff;
  padding: 14px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-height: 120px;
}
.publication-item .title { font-weight: 600; font-size: 16px; line-height: 1.25; margin: 0; }
.publication-item .meta { font-size: 14px; color: rgba(0,0,0,0.65); margin-top: 6px; }
.publication-item .actions { margin-top: auto; display: flex; gap: 8px; flex-wrap: wrap; }
.publication-item .actions a {
  text-decoration: none; font-size: 13px; padding: 6px 10px; border-radius: 6px;
  border: 1px solid rgba(0,0,0,0.06); background: rgba(0,0,0,0.02);
}

/* figcaption */
figcaption { text-align: right; margin-top: 6px; font-size: 13px; color: rgba(0,0,0,0.6); }

/* ---------- Scroll area for very long lists (optional) ---------- */
.pubscroll { max-height: 520px; overflow-y: auto; background-color: rgba(255,255,255,0.9); padding-right: 6px; }

/* ---------- Big screens / projectors ---------- */
@media (min-width: 1600px) {
  .container-publications { max-width: 1600px; padding: 28px 40px; }
  .publication-item { padding: 20px; border-radius: 10px; }
  p, .publication-item .meta, .publication-item .title { font-size: 18px; }
  .pub-year-select { font-size: 16px; min-width: 160px; }
}

/* ---------- Utility helpers ---------- */
.text-muted { color: rgba(0,0,0,0.55); }
.center { text-align: center; }

/* ---------- Accessibility ---------- */
.pub-year-select:focus, .publication-item .actions a:focus {
  outline: 3px solid rgba(21,156,228,0.25);
  outline-offset: 2px;
}

/* ---------- Anchor & hero/slider offset helpers ---------- */
/* Ensure anchor jumps land below the navbar (uses measured --navbar-height) */
[id] {
  scroll-margin-top: calc(var(--navbar-height) + 8px);
}

/* If your hero/slider uses a full-viewport layout, use this helper on that element
   e.g. add class="hero hero-offset" to your slider wrapper */
.hero-offset {
  /* set the hero to full viewport minus navbar space (if you want a true full-screen hero) */
  height: calc(100vh - var(--navbar-height));
  overflow: hidden;
}
